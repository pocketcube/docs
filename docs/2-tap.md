# Termo de Abertura do Projeto

## Visão geral

A educação no Brasil apresenta números alarmante, segundo o ranking PISA, o estudantes brasileiros estão estacionados em ciência e matemática, onde esse mesmo desempenho historicamente está classificado entre as últimas posições, com média semelhante aos países menos desenvolvidos do ranking, mesmo tendo PIB e renda per capita maior que desses países, esses dados podem ser traduzidos como: O investimento em educação no Brasil não apresenta bom desempenho, ou que a educação brasileira é falha para com seus estudantes.

```eval_rst
.. image:: assets/tap/pisa2018.jpg
  :align: center
  :width: 500
..

```

```eval_rst
.. image:: assets/tap/pisa2018-mat.jpg
  :align: center
  :width: 500
..

```

Muitos fatores são apontados como causa desse desempenho, desde infraestrutura de ensino até mesmo ao modelo de ensino utilizado no Brasil, fatores que elevam a evasão na educação básica do Brasil, onde:
- 40% dos alunos da escola pública não possuem computador em casa;
- 60% dos alunos do 9º ano não conseguem calcular porcentagem;
- 12% das escolas Brasileira tem laboratório de ciência;
- 80% alunos concluintes do ensino fundamental não aprenderam o adequado em Matemática.
- 82,7% das escolas que oferecem Ensino Médio contam com laboratórios de informática,

Ou seja, em geral os estudantes não têm acesso a laboratórios excetos a computadores onde o acesso é limitado a poucos horários por semana. O ensino públicos não apresenta estímulos suficiente para o aprendizado de Ciência, Tecnologia, Engenharia e Matemática (STEM).

### Cenário
No cenário internacional o ensino baseado em prática através do STEM associado à liberdade de pensamento e criação pela arte têm sido uma das principais ferramentas de engajamento educacional. O STEAM, STEM associado com Artes, é uma ferramenta educacional que consiste em 6 passos de aprendizado:

- Foco: Nesta etapa o aluno é questionado sobre problemas a serem resolvidos;
- Detalhamento: Nesta etapa o aluno é instigado a pensar em possíveis soluções para o problema que foi questionado;
- Descoberta: Nesta etapa o aluno explora soluções já existente e pensa em maneiras de criar novas soluções;
- Aplicação: Nesta etapa o aluno começa a aplicar sua solução para os problemas propostos;
- Apresentação: Neste momento o aluno expõe sua solução para o feedback dos outros estudantes;
- Conexão: Nesta etapa os alunos com fazem conexões dos feedbacks recebidos e trabalham em conjunto para criar um solução geral.

Durante esse ciclo o estudante consegue se engajar em todos os passo do processo de aprendizado através de um pensamento mais orientado para solução de problemas, pensamento crítico e trabalho de equipe.

Quando comparado com projeto de missão espacial o STEAM e a planejamento de missão compartilham muitos passos em comum, segundo a ESA, são 10 passos para o sucesso de uma missão espacial;

1. Investimento no conhecimento básico do espaço;
2. Contato com as primeiras ideias;
3. Design da Missão;
4. Desenvolvimento de novas tecnologias;
5. Qualificação Espacial;
6. Definição das estações de solo;
7. Centros Espaciais; 
8. Testagem do veículo espacial;
9. Lançamento e controle da missão;
10. Compartilhamento do conhecimento;

Sendo do passo 4 até o passo 8 voltado a criação de estrutura física para o desenvolvimento dos projetos espaciais de altíssimo porte, ou seja, veículos espaciais para missões do espaço profundo ou satélites com payload enorme.

Quando introduzido na realidade do New Space os passos 4 até 8 são substituído por processos em menor escala e colaborativos, chegando ao ponto se tornarem produtos de prateleira (Commercial off the shelf). Pensando numa realidade do New Space é possível trazer a realidade dos satélites para dentro de uma sala de aula através da miniaturização dos projetos espaciais, ou seja, utilizando pequenos satélites, como Cubesat, satélite definido por um 1 unidade de um cubo de 10cm de aresta, Cansat, satélites definidos pelo volume de uma lata de alumínio de 350ml, ou até mesmo PocketQube, satélites definidos por 1 unidade de cubo de 5cm de aresta.


### Solução
Seguindo a linha de miniaturização para a matéria de Projeto Integrador 2 da Faculdade do Gama na Universidade o grupo Satélite para educação básica propõe a criação de um kit modular de satélite miniaturizado para diversos tipos de missões espaciais possíveis, também no projeto está incluso a criação de um deployer, sistema de ejeção para missões espaciais, para um lançador e também um sistema de estação de solo. Com o objetivo de gerar maior engajamento na educação básica no ensino de STEM.

## Declaração de escopo
- Promover o ensino de matemática, engenharia, ciências e tecnologia.
- Kit Modular de satélite educacional;
- Kit Modular de estação de solo;
- Deployer para um lançador atmosférico, adaptável a diversos tipos de lançamentos;

## Premissas e restrições
- **Segurança**: Ao lançar um produto no mercado, ele deve seguir um mínimo de condições de segurança para o consumidor final. O consumidor final será alunos de ensino médio e ensino fundamental, portanto o satélite necessita não ter partes pontiagudas, que possam causar danos de saúde para os usuários. Nem que caia alguém, queime alguém.

- **Facilidade de montagem**: Para possuir uma maior adesão do produto no mercado,  e uma maior adesão de alunos e professores o kit do satélite deve possuir facilidade nas montagens, para que a introdução do curso tenha alta adesão. Portanto o projeto visa facilidade de montagem, que implica em uma simplicidade em fazer a conexão dos sensores com a estrutura do satélite.

- **Rapidez de montagem**: É necessário que o processo de montagem  possa ser executado durante o tempo de aula, com isso a rapidez na montagem é um requisito. Segundo a Lei de Diretrizes e Bases da Educação, o tempo médio de duração do período de aula é de 4 horas diárias. Com base nessa informação, deve ser possível realizar a montagem em até 2h.

- **Baixo custo e alto custo-benefício**: Com o objetivo de ser acessível a escolas das mais variadas condições. O custo é um fator importante. Com isso, na hora da escolha dos componentes do satélite, deve-se buscar o melhor custo-benefício, optando por componentes que satisfaçam todos os outros requisitos do projeto e que apresentem um baixo custo.

- **Facilidade de implementação**: Para maior abrangência do programa educacional, o satélite não deve depender dos recursos da escola, para realizar suas funcionalidades, facilitando a implementação do programa. O satélite deve ter uma boa mobilidade e facilidade de manuseio, sem a necessidade de equipamentos ou máquinas de manuseio/movimentação.

- **Didática**: a visão do satélite é trazer o conhecimento prático da engenharia desde o ensino médio, de modo a reduzir a aversão desses alunos às áreas exatas. Para que isso seja alcançado, o produto deve ser explicado de forma simplificada, relacionando-o aos conteúdos já vistos pelo estudante, e evitando conceitos mais complexos (tais como derivada e integral).

- **Usabilidade**; o satélite e a plataforma de lançamento devem possuir formato ergonômico e superfície confortável ao manuseio por horas consecutivas. Já a interface deve apresentar facilidade de uso e aprendizagem (conforme as 6 Metas de Usabilidade de Nielsen), disponibilizando os dados de forma clara e concisa, preferencialmente utilizando-se de um design agradável.

- **Resistência**: por ser direcionado ao público infanto-juvenil, o produto deve ser resistente à falhas de manuseio, tais como queda de pequenas alturas e pressão feita pelas mãos.


## Estrutura Analítica do Projeto
```eval_rst
.. image:: assets/tap/eap.jpg
  :align: center
  :width: 500
..

```

Com base na EAP foi desenvolvido o diagrama de integrações do projetos.

```eval_rst
.. image:: assets/tap/diagrama-integracoes.jpg
  :align: center
  :width: 500
..

```


## Arquitetura de Software do Projeto

Este anexo apresenta uma estrutura da arquitetura do projeto em nível de backend (servidor e banco de dados) e frontend (aplicativo mobile). Vale-se ressaltar que a comunicação entre cliente e servidor ocorre por **JSON (JavaScript Object Notation)**,  que é uma notação bastante utilizada em arquitetura de microsserviços por ser de fácil compreensão, e apresentar vários suportes na parte de parsear o objeto entre o cliente e servidor.
  
A comunicação acontecerá através dos protocolos WebSockets e MQTT.

```eval_rst
.. image:: assets/software/diagrama_comunicacao.png
  :align: center
  :width: 500
..

```


A partir desse diagrama, desenvolvemos o diagrama de sequência abaixo, detalhando o fluxo de dados e interações entre cada um dos atores:


```eval_rst
.. image:: assets/software/diagrama_sequencia.png
  :align: center
  :width: 500
..

```

### Backend - Servidor e Banco de Dados
#### Contexto

Dado o contexto de alto volume de entrada e saída de dados, e a possibilidade de aumentar sendo recebidos por diferentes sensores, e enviando em tempo real para o aplicativo, optamos pela solução de microsserviços.
  
Uma vez adicionado um novo sensor, é também adicionado um novo serviço que irá cuidar desse sensor, recebendo e transmitindo os dados recebidos, seja para outros serviços ou para algum cliente.
  
Como o nosso cluster de serviços (servidores) estará instalado em uma Raspberry Pi, optamos por uma linguagem leve e escalável, além de ter uma interoperabilidade de fácil configuração com a plataforma.
  
Por último, e não menos importante, dadas as necessidades, os riscos levantados e tempo para execução do projeto, escolhemos tecnologias que sejam fáceis de configurar, que o grupo possua alguma experiência prévia e que forneça um bom nível de produtividade no desenvolvimento.


#### Tecnologias

Por estes motivos, o **Python** foi definido como linguagem para criação dos nosso microsserviços. Além do Python, serão necessárias algumas tecnologias para dar suporte à nossa arquitetura, como comunicação entre os serviços, API gateway, proxy reverso e configuração de deploy/ambiente.
  
Para a conteinerização e isolamento de ambiente de cada serviço, foi escolhido o **Docker**, pois ele é leve, possui boa interoperabilidade com a Raspberry Pi e possui uma configuração fácil e simples para atender a velocidade e o curto espaço de tempo que possuímos para desenvolver o projeto.
  
Para a comunicação entre os sensores e os serviços, iremos utilizar a estratégia de *message broker*, utilizando o **RabbitMQ**. Essa estratégia é necessária pois os serviços irão receber uma alta carga de entrada e saída de dados e, para evitar sobrecarga ou perda dos dados, optamos por colocá-los em uma fila (*first in first out*) para controlar o fluxo e enviar os dados assim que houver disponibilidade.


#### Comunicação entre os sensores e o servidor

Os dados coletados pelos sensores serão enviados via LoraWAN para uma ESP32 receiver, na estação de solo, que estará conectada a nossa rede local e enviará os dados para o *message broker*. A partir daí, os microsserviços irão buscar os dados publicados na fila, e irão tratar e transmitirão para o frontend.

### Frontend - Aplicativo Mobile

De acordo com os requisitos levantados, observou-se que muitas escolas utilizam *iPads* no ambiente educacional. Esses tablets permitem que a experiência seja mais imersiva em relação a sites. Dessa forma, optou-se pelo desenvolvimento de uma aplicação mobile em iOS utilizando-se a linguagem **Swift**.

#### View-Interactor-Presenter (VIP)

O VIP foi proposto a partir dos princípios da *Clean Architecture*. Ele é composto por cenas que consistem numa unidade reduzida de funcionalidade, como autenticação, configuração, visualização de perfil, entre outras. As cenas possuem módulos de formatação de dados e interação com o usuário. Protocolos conhecidos como *boundaries* fazem a comunicação entre os módulos.
  
Cada cena do VIP apresenta as seguintes camadas: View, Model, Interactor, Worker e Presente. Este fato auxilia na divisão de responsabilidades, manutenção e testabilidade. Dessa forma, as cenas representam conjuntos de classe:

```eval_rst
.. image:: assets/software/diagrama_classes_cena_vip.png
  :align: center
  :width: 500
..

```

#### Tecnologias

No desenvolvimento da aplicação para iOS serão utilizadas as seguintes tecnologias:
- **Alamofire:** Framework utilizado para chamadas HTTP. É o mais forte na comunidade de iOS, com cerca de 21 mil estrelas no GitHub.
- **UIKit:** SDK nativa do iOS utilizada no desenvolvimento de componentes visuais.
- **SpriteKit:** Permite a visualização/interação em objetos 2D/3D no iOS. É um framework nativo bastante utilizado no desenvolvimento de jogos.
- **Danger:** Ferramenta de análise estática de código, funciona muito bem quando integrada à CI.
- **Github Actions:** Ferramenta de integração contínua para projetos Open Source, gratuita e nativa do GitHub.

### Estrutura de Pacotes

Como os serviços de sensores, como os de temperatura ou umidade, funcionam de forma parecida, eles podem compartilhar da mesma estrutura de pacotes, interagindo com o cliente, como descrito a seguir:
  
```eval_rst
.. image:: assets/software/diagrama_pacotes.png
  :align: center
  :width: 700
..

```

#### Pacotes Backend

O pacote *app/* é responsável por agrupar os pacotes *api/* e *queue/* que irão cuidar da recepção dos dados pelo sensor e comunicar com a fila de mensagens, respectivamente.
  
O pacote *queue/* é responsável por buscar os dados na fila e comunicar ao pacote *api/* que existe um novo dado para ser processado e enviado.
  
O pacote *api/* é responsável por todo o *pipeline* de tratamento, serialização, carga e envio dos dados para o frontend via WebSocket.

#### Pacotes Frontend

O diagrama de pacotes fornece uma compreensão das camadas na construção de um software e sua comunicação. Nesse projeto, foi proposta a *Clean Architecture*, postulada por Robert C. Martin (conhecido como Uncle Bob), na estrutura das telas. E, para a comunicação entre elas, foi proposto um *coordinator*.
  
A seguir, estão apresentados os pacotes da aplicação mobile e cada uma das suas camadas. A camada do *coordinator* tem como objetivo controlar a navegação dentro do app. A  *scene* é a estrutura de uma tela propriamente dita (suas responsabilidades serão melhor descritas na próxima subseção). A camada de rede, definida como *network*, é responsável por fazer *requests* HTTP ao servidor. Por fim, as *entities* representam os objetos do mundo real, no caso as informações relacionadas ao nosso satélite.

## Cronograma

```eval_rst
.. image:: assets/tap/cronograma.jpg
  :align: center
  :width: 500
..
```

## Equipe
```eval_rst
.. image:: assets/tap/equipe.jpg
  :align: center
  :width: 500
..

```

### Descrição de Trabalho
As demandas de cada membro é definido pelo plano de ensino da matéria;
Coordenador Geral:
- Realizar o planejamento de atividades das equipes técnicas; 
- Realizar a gestão de tempo e riscos do projeto, bem como realizar o controle financeiro do projeto; 
- Atuar na definição e validação de requisitos técnicos, de forma a garantir que a arquitetura da solução - atenda às necessidades do cliente; 
- Definir e acompanhar os indicadores de performance e entrega; 
- Validar o plano de produção e integração dos produtos das equipes técnicas;
- Garantir o alinhamento entre os diretores;
- Assegurar a comunicação entre todas as subáreas;
- Apresentação dos relatórios desenvolvidos;

Diretor de Qualidade e Produto:
- Suporte ao Coordenador Geral na tarefa de planejamento e gestão das atividades dos grupos técnicos; 
- Atuar na definição de requisitos técnicos e na tomada de decisão sobre a arquitetura da solução; 
- Garantir que os produtos desenvolvidos no projeto atendem aos requisitos técnicos; 
- Garantir que os critérios de projeto adotados pelas equipes técnicas estejam em consonância com boas práticas  - de engenharia. 
- Gerenciar a garantir a integração entre os produtos dos subsistemas;  
- Desenvolvimento e validação de documentação técnica do projeto;
- Assegurar que o produto atenda a necessidade do cliente.
- Guiar os membros e diretores para garantir os requisitos do projeto;

Diretor de Estrutura e Energia, Diretor de Software e Eletrônica,
- Gerenciar as atividades dos desenvolvedores e garantir a coesão do grupo; 
- Atuar na definição de requisitos técnicos e tomada de decisão sobre tecnologias aplicáveis ao projeto e ao - susbsistema; 
- Atuar na definição e aplicação de critérios de projeto, para garantir a correta especificação dos elementos; 
- Atuar na validação de produtos dos desenvolvedores e garantir a interoperabilidade dos produtos entre - subsistemas; 
- Atuar na definição de planos de produção e integração entre produtos de diferentes equipes; 
- Desenvolver e validar a documentação técnica da equipe;
- Garantir Fluidez na comunicação entre as áreas para a integração dos subsistemas.

Membros e desenvolvedores:
- Identificar os requisitos técnicos;
- Justificar a escolha das tecnologias;
- Desenvolver e validar as partes técnicas sob sua responsabilidade; 
- Definir critérios de produção e interoperabilidade dos produtos do seu subsistema; 
- Desenvolver as documentações técnicas;
- Participar da integração dos elementos de seu subsistema ao restante do projeto.

## Orçamento
Com base nos sistemas e subsistemas apresentando na Estrutura Analítica de Projeto cada subsistemas apresentou uma estimativa de custo e materiais totalizando o valor de 1821 reais de material para desenvolvido e para nível total de projeto o orçamento é de 2601 reais sendo uma reserva para emergências ou outros custos representando 30% do total.

```eval_rst
.. image::  assets/tap/orcamento.jpg
  :align: center
  :width: 400

..

```

O preço estimado para mercado é de 1200 Reais por kit, sem definir o valor de lançamento nesta etapa do projeto, pois nesse valor  o kit pode entrar no mercado com um valor competitivo comparando os custos de kits de robótica educacional. Também é colocado em consideração que como esse kit é para educação STEAM faz com que o preço por aluno seja inferior aos 1200 reais esperado para valor de mercado.

Como a matéria Projeto Integrador 2 é voltada para o Projeto e Desenvolvimento, o custo estimado de mão obra pode ser estimado pela homem hora trabalhado e valor de piso para engenharia. Por se tratar de matéria de 90 horas e com grupo de 14 alunos são 1260 Homem hora trabalhando em pesquisa e desenvolvimento, considerando um piso da engenharia em 8,5 o salário nacional, podendo variar conforme a especialização, e tendo referência de 220hrs de trabalho mensal, o custo estimado da mão de obra do projeto fica em 50.873 reais.

